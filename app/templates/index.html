{% extends "base.html" %}
{% block head %}
{{ super() }}
{% endblock %}

{% block title %}
<span class="mdl-layout-title">Welcome</span>
{% endblock %}

{% block nav %}
<a class="mdl-navigation__link" href="/">主页</a>
<a class="mdl-navigation__link" onclick="showRegistrationDialog()">用户注册</a>
<a class="mdl-navigation__link" onclick="show_page('{{ url_for('flasgger.apidocs',_external=True)}} ')">API
    文档</a>
<a class="mdl-navigation__link" onclick="show_page('https://coding.net/u/Vistazx1/p/simple-api/')">API
    源码</a>
{% endblock %}


{% block content %}
{% include 'register.html' %}

<div id="frame" style="width: 100%;height: 100%;overflow:hidden;">
    <div id="container">
        <!-- Wide card with share menu button -->
        <style>
            .demo-card-wide.mdl-card {
                width: 80%;
                margin: 5% 10%;
            }

            .demo-card-wide > .mdl-card__title {
                color: #fff;
                height: 176px;
                background: url("{{ url_for('static',filename='images/welcome_card.jpg') }}") center / cover;
            }

            .demo-card-wide > .mdl-card__menu {
                color: #fff;
            }
        </style>

        <div class="demo-card-wide mdl-card mdl-shadow--2dp">
            <div class="mdl-card__title">
                <h2 class="mdl-card__title-text">Welcome</h2>
            </div>
            <div class="mdl-card__supporting-text">
                这里是一个用Flask编写的API，点击下面查看文档
            </div>

            <div class="mdl-card__actions mdl-card--border">
                <button class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"
                        onclick="show_page('{{ url_for('flasgger.apidocs',_external=True)}} ')">
                    API 文档
                </button>
                <button class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"
                        onclick="show_page('https://coding.net/u/Vistazx1/p/simple-api/')">
                    API 源码
                </button>
            </div>
        </div>


    </div>
</div>

{% endblock %}


{% block script %}
<script>

    function show_page(page) {
        document.getElementById('frame').innerHTML = '<iframe id="new_frame" src=' + page + ' width="100%" height="1000px"  frameborder="0"></iframe>';
    }

    function changeFrameHeight() {
        var ifm = document.getElementById("frame");
        ifm.height = document.documentElement.clientHeight;

    }

</script>
{% endblock %}

{% block basic %}
{{ super() }}
{% endblock %}
